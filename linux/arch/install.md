fdisk -l /dev/sda
fdisk -t dos /dev/sda


mkfs.ext2 /dev/sda1 # /boot
mkfs.ext4 /dev/sda2 # / (root file system)


mount -v /dev/sda2 /mnt
mkdir /mnt/boot
mount -v /dev/sda1 /mnt/boot

pacstrap -i /mnt base
genfstab -U -p /mnt >> /mnt/etc/fstab

arch-chroot /mnt

pacman -S --noconfirm vim mc dnsutils traceroute net-tools openssh unace unarj unrar zip p7zip grub sudo os-prober

# after installation check and added for internet connection
vim /etc/resolv.conf
nameserver 192.168.1.1

echo walen.local >/etc/hostname
vim /etc/hosts
127.0.0.1       localhost.localdomain   localhost walen.local

rm -rfv /etc/localtime
ln -s /usr/share/zoneinfo/Asia/Bangkok /etc/localtime
hwclock --systohc --utc
sed -i 's@#en_US\.U@en_US\.U@' /etc/locale.gen
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LANG=en_US.UTF-8

cat > /etc/systemd/network/eth0.network << "EOF"
# Begin /etc/systemd/network/eth0.network
[Match]
Name=eth0

[Network]
Address=192.168.153.128/24
Gateway=192.168.153.2
DNS=8.8.8.8
DNS=8.8.4.4

# End /etc/systemd/network/eth0.network
EOF

#Change enp0s3 to eth0 with static ip address
>
>>		grep -n ^GRUB_CMDLINE_LINUX_DEFAULT /etc/default/grub
>
>>		vim +4 /etc/default/grub
>
>>		Go to /etc/default/grub and find 4:GRUB_CMDLINE_LINUX_DEFAULT="quiet"
>
>>		replaced with GRUB_CMDLINE_LINUX_DEFAULT="ipv6.disable=1 net.ifnames=0 quiet"

Added usr in /etc/mkinitcpio.conf if /usr used in partition
HOOKS="base udev autodetect modconf block filesystems keyboard usr fsck"
HOOKS="base udev autodetect modconf block keyboard keymap resume filesystems fsck" # from installing manjaro.org

cd /boot
mkinitcpio -p linux	

grub-install --target=i386-pc --recheck /dev/sda
grub-mkconfig -o /boot/grub/grub.cfg





#Regenerage grub.cfg
grub-mkconfig -o /boot/grub/grub.cfg
>>		reboot



#Root login
vim /etc/ssh/sshd_config

#PermitRootLogin prohibit-password
PermitRootLogin yes


# To preventing mounting automatically
systemctl mask tmp.mount



Change date time
timedatectl set-time "yyyy-MM-dd hh:mm:ss"
timedatectl set-time "2017-08-03 1:44:60"


Added user
useradd -m -g users -G audio,lp,optical,storage,video,games,power,scanner,wheel -s /bin/bash walen
passwd walen

passwd root

#To start network
systemctl enable systemd-networkd
systemctl enable sshd

exit

umount -l /mnt
reboot

# after installation check and added for internet connection
vim /etc/resolv.conf
nameserver 192.168.1.1




 cat /etc/resolv.conf
# Generated by resolvconf
domain localdomain
nameserver 192.168.153.2


sudo pacman -S composer apache
sudo pacman -S gcc
pip install --user django
pip install --user scrapy beautifulsoup4 lxml html5lib
pip install --user SQLAlchemy mysqlclient

sudo systemctl start httpd.service
sudo systemctl enable httpd.service
https://wiki.archlinux.org/index.php/Apache_HTTP_Server


sudo systemctl status mariadb
sudo systemctl enable mariadb

git clone https://github.com/phpmyadmin/phpmyadmin.git


https://github.com/phpmyadmin/phpmyadmin

https://www.crummy.com/software/BeautifulSoup/bs4/doc/
https://django.readthedocs.io/en/latest/intro/contributing.html
https://wiki.archlinux.org/index.php/MySQL
https://github.com/getanewsletter/BeautifulSoup4

sudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql

sudo systemctl start mariadb.service
sudo systemctl status mariadb.service

mysql_secure_installation


To start mysqld at boot time you have to copy
support-files/mysql.server to the right place for your system

PLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !
To do so, start the server, then issue the following commands:

'/usr/bin/mysqladmin' -u root password 'new-password'
'/usr/bin/mysqladmin' -u root -h walen.local password 'new-password'

Alternatively you can run:
'/usr/bin/mysql_secure_installation'

which will also give you the option of removing the test
databases and anonymous user created by default.  This is
strongly recommended for production servers.

See the MariaDB Knowledgebase at http://mariadb.com/kb or the
MySQL manual for more instructions.

You can start the MariaDB daemon with:
cd '/usr' ; /usr/bin/mysqld_safe --datadir='/var/lib/mysql'

You can test the MariaDB daemon with mysql-test-run.pl
cd '/usr/mysql-test' ; perl mysql-test-run.pl

Please report any problems at http://mariadb.org/jira

The latest information about MariaDB is available at http://mariadb.org/.
You can find additional information about the MySQL part at:
http://dev.mysql.com
Consider joining MariaDB's strong and vibrant community:
https://mariadb.org/get-involved/



#apache

 mkdir /etc/httpd/conf/vhosts
 nano /etc/httpd/conf/vhosts/domainname1.dom
 In the last step, Include the single configurations in your /etc/httpd/conf/httpd.conf:

#Enabled Vhosts:
Include conf/vhosts/domainname1.dom

<VirtualHost *:80>
    ServerAdmin webmaster@domainname1.dom
    DocumentRoot "/home/user/http/domainname1.dom"
    ServerName domainname1.dom
    ServerAlias domainname1.dom
    ErrorLog "/var/log/httpd/domainname1.dom-error_log"
    CustomLog "/var/log/httpd/domainname1.dom-access_log" common

    <Directory "/home/user/http/domainname1.dom">
        Require all granted
    </Directory>
</VirtualHost>
[Mon Jan 08 21:17:43.582340 2018] [core:error] [pid 2549:tid 139958673168128] (13)Permission denied: [client 192.168.153.1:54122] AH00035: access to / denied (filesystem path '/home/walen/working') because search permissions are missing on a component of the path

https://wiki.archlinux.org/index.php/Apache_HTTP_Server
https://wiki.apache.org/httpd/13PermissionDenied
namei -m /usr/local/apache2/htdocs/foo/bar.html



cat /etc/httpd/conf/httpd.conf| grep mod_rewrite
https://bbs.archlinux.org/viewtopic.php?id=41606